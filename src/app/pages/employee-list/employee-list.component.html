<app-search-bar
  #searchbar
  placeholder="Search by name or username"
  [hint]="searchHint()"
  (type)="onSearchChange($event)"
/>
<!-- [options]="['Both', 'Name', 'Surname']" -->

@if(employeesDataSource()) {

<table mat-table [dataSource]="employeesDataSource()!" class="mat-elevation-z8">
  <!-- Avatar -->
  <ng-container matColumnDef="avatar">
    <th mat-header-cell *matHeaderCellDef>Avatar</th>
    <td mat-cell *matCellDef="let employee">
      <img
        class="avatar"
        src="https://i.pravatar.cc/150?img={{ employee.id % 70 }}"
        alt="{{ employee.name }} avatar"
        [title]="employee.name"
      />
    </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let employee">{{ employee.name }}</td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="surname">
    <th mat-header-cell *matHeaderCellDef>Surname</th>
    <td mat-cell *matCellDef="let employee">{{ employee.surname }}</td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="birthDate">
    <th mat-header-cell *matHeaderCellDef>Age</th>
    <td mat-cell *matCellDef="let employee">{{ employee.birthDate | age }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<mat-paginator
  [pageSize]="itemsPerPage"
  [pageSizeOptions]="[5, 10, 20]"
  [pageIndex]="currentPage"
  [length]="employeesDataSource()!.data.length"
  showFirstLastButtons
  aria-label="Select page of users"
  (page)="handlePageChange($event)"
></mat-paginator>

} @else {NO DATA}
